### 1. IP(Internet Protocol, 인터넷 통신규약)의 개념
- 프로토콜(Protocol)은 통신 시스템이 데이터를 교환하기 위해 사용하는 통신 규칙이다.
- IP 주소는 인터넷에 연결된 기기(컴퓨터)를 식별하는 유일한 번호이다.
  - 4개의 10진수 형태로 구성(IPv4)되는데 이때 각 10진수는 8자리 2진수(0~255 = 28)를 표현한다.
  - IP 주소는 총 32비트(2^8*2^8*2^8*2^8 = 2^32 = 4,294,967,296)로 구성
  - 컴퓨터가 늘어갈수록 많은 IP 주소가 필요하므로 최근에는 숫자 구분을 4개에서 6개로 늘린 IPv6를 함께 사용하고 있다.
- IP 주소는 네트워크 주소와 호스트 주소로 나뉜다.
  - 네트워크 주소: 기기가 속해있는 네트워크(인터넷 등)를 식별하는 데 사용
  - 호스트 주소: 해당 네트워크에 접속한 기기를 식별하는 데 사용
- 한 네트워크에 포함된 모든 기기들은 같은 네트워크 주소를 갖고 있어야 하지만, 한 네트워크 내에 같은 주소를 갖는 기기가 있으면 안 된다.
  - **모든 컴퓨터는 서로 다른 IP 주소를 갖는다.**
- IP 예시
  - `192.168.219.100` -> 특정 공유기가 제공하는 네트워크 주소 지칭 `http://192.168.219.100/index.html` -> 같은 네트워크에 연결된 컴퓨터만 해당 웹 사이트에 접속이 가능하다.
  - `127.0.0.1` -> 자기 자신의 컴퓨터 주소 지칭 `http://127.0.0.1/index.html` -> 자기 자신의 컴퓨터만 해당 웹 사이트에 접속이 가능하다.

<br/>

### 2. IP의 역할
- IP를 통해 클라이언트 컴퓨터는 서버 컴퓨터로 데이터를 요청하고, 서버 컴퓨터는 클라이언트 컴퓨터에 데이터를 응답할 수 있다.
- 클라이언트와 서버가 데이터를 주고받을때에는 **IP 패킷(Packet)이라는 통신 단위**로 서로 주고 받는데, IP 패킷에는 전송할 데이터뿐만 아니라 클라이언트의 IP 주소와 서버의 IP 주소 등이 저장되어있어 인터넷 내 무수히 많은 노드들 사이에서도 클라이언트와 서버간 서로 데이터를 주고 받을 수 있게 된다.
- 목적지 IP 주소까지 어떤 경로를 거쳐 데이터를 보낼지 결정하는 것을 **라우팅**이라고 한다.
```
※ 참고 : 네트워크에서의 스위칭 종류
서킷 스위칭 : 서로 간의 연결이 이루어지면 연결이 끊어질 때까지 해당 회선을 온전히 독점 사용(다른 사용자 이용 X) -> 전화
패킷 스위칭 : 하나의 회선에서도 여러 명이 동시에 통신 가능 -> 인터넷
```

<br/>

### 3. IP의 문제점
- 비연결성 : 연결이 되지 않아도 패킷을 전송한다.
  - 패킷을 받을 대상이 없거나 대상이 서비스 불능 상태여도 패킷을 전송한다.
- 비신뢰성
  - 패킷을 주고받는 과정에서 패킷이 소실될 수 있다.
  - 패킷을 주고받는 순서가 달라질 수 있다.
    - 클라이언트가 1 -> 2 순으로 패킷을 전송했지만 서버는 2 -> 1 순으로 패킷을 전달받을 수 있다.

<br/>

### 4. IP의 문제점 개선 : TCP(Transmission Control Protocol, 전송 제어 프로토콜)
- 연결 지향 : TCP 3 way handshake(가상 연결, 실제 연결 X)
  - 클라이언트 -> 서버 : SYN(접속 요청)
  - 서버 -> 클라이언트 : SYN(접속 요청) + ACK(요청 수락)
  - 클라이언트 -> 서버 : ACK(요청 수락)
  - 위 3개의 과정을 통해 서로의 연결 상태를 확인한 이후에 데이터를 주고받음
  - 최근에는 ACK 과정에서 데이터를 전송 가능할 수 있게 되었다.
- 데이터 전달 보증
- 순서 보장
- 신뢰할 수 있는 프로토콜
- 현재 인터넷은 대부분 TCP/IP 기반의 네트워크를 사용하나 최근에는 UDP가 새롭게 부상하는 중이다.
  - UDP는 TCP에서 제공하는 연결지향, 데이터 전달 보증, 순서 보장 기능이 없지만 **단순하고(IP와 거의 같다. 포트 PORT와 체크섬 checksum 추가) 빠른 장점**이 있으며 TCP는 있는 그대로 사용할 수밖에 없지만 UDP는 **애플리케이션에 따라 추가 작업을 통해 최적화할 수 있는 장점**이 있다.

<br/>

### TCP/IP 스택(Stack)의 4 계층(Layer)
- `애플리케이션 계층` -> `전송 계층` -> `인터넷 계층` -> `네트워크 인터페이스(접근) 계층` 순으로 데이터 전송이 이루어진다.
- 애플리케이션 계층
  - 프로토콜: HTTP, FTP, SMTP, SOCKET, etc...
- 전송 계층
  - 프로토콜: TCP, UDP
- 인터넷 계층
  - 프로토콜: IP
- 네트워크 인터페이스 계층
  - 프로토콜: MAC Address, LAN DRIVER, LAN Card, Ethernet cable, wire, etc...
- 예시
  - 애플리케이션이 Hello, world! 메시지 데이터를 생성하고 이를 SOCKET 라이브러리를 통해 데이터를 전송한다.
  - TCP 정보를 생성하고 이를 포함하여 데이터를 전송한다.
  - IP 패킷을 생성하고 이를 포함하여 데이터를 전송한다.
  - LAN Card를 통해 인터넷으로 데이터를 전송한다. 이때 이더넷 프레임(Ethernet frame)을 포함시킨다.
```
※ 참고 : SOCKET
- 웹 브라우저, 게임, 채팅 프로그램 등의 프로세스들은 소켓(SOCKET) 라이브러리를 창구로 사용하여 데이터를 주고 받는다.
- 소켓은 IP 주소와 포트(PORT) 번호로 정의되며 TCP(Transmission Control Protocol) 또는 UDP(User Datagram Protocol)를 사용할 수 있다.
- HTTP : 클라이언트의 요청이 있을 때만 서버가 응답하여 해당 정보를 전송하고 곧바로 연결을 종료
- SOCKET : 클라이언트와 서버가 특정 포트를 통해 실시간 및 양방향으로 통신
```
